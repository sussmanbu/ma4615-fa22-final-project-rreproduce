---
title: Post 2
author: Team Rreproduce
date: '2022-10-21'
slug: []
categories: []
tags: []
description: ~
toc: yes
authors: []
series: []
lastmod: '2022-10-21T13:29:25-04:00'
featuredVideo: ~
featuredImage: ~
---


<div id="TOC">

</div>

<p>Tidy data</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
## ✔ ggplot2 3.3.6      ✔ purrr   0.3.5 
## ✔ tibble  3.1.8      ✔ dplyr   1.0.10
## ✔ tidyr   1.2.1      ✔ stringr 1.4.1 
## ✔ readr   2.1.3      ✔ forcats 0.5.2 
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>o_MA &lt;- read_csv(here::here(&quot;dataset/o_MA.csv&quot;))</code></pre>
<pre><code>## Rows: 92625 Columns: 13
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (5): Original_CZ, Original_State, Dest_CZ, Dest_state, race
## dbl (8): Num_original_CZ, Num_dest_CZ, n, From_origin, Live_in_dest, income,...
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code>top20 &lt;- o_MA %&gt;% 
  group_by(Dest_state) %&gt;%
  mutate(sum_n = sum(n)) %&gt;%
  filter(Dest_state != &quot;Massachusetts&quot;) %&gt;%
  ungroup() %&gt;%
  arrange(desc(sum_n)) %&gt;%
  filter(sum_n &gt; 1650)</code></pre>
<pre class="r"><code>top20 %&gt;% 
  ggplot() +
  geom_col(aes(x=reorder(Dest_state,sum_n),y=n,fill=race))+
  theme(axis.text.x = element_text(angle=45,vjust=1,hjust=1)) +
  labs(x = &quot;Destination State&quot;, y = &quot;Total Commuting Population&quot;, color=&quot;race&quot;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
