---
title: Post 2
author: Team Rreproduce
date: '2022-10-21'
slug: []
categories: []
tags: []
description: ~
toc: yes
authors: []
series: []
lastmod: '2022-10-21T13:29:25-04:00'
featuredVideo: ~
featuredImage: ~
---


<div id="TOC">

</div>

<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This week we tidy the data and use a subset of data for exploratory analysis.</p>
<p>In <strong>load_and_clean_data.R</strong> file, we made following changes:</p>
<ul>
<li><p>remove all n = 0 entries (there is no one moving between two commute zone) and n = -1 entries (NA value)</p></li>
<li><p>separate the pool variable into race and income</p></li>
<li><p>Use filter function to focus on the population of immigrants moving from Massachusetts</p></li>
<li><p>Change the column names to make them easy to understand</p></li>
<li><p>Change the NA probability to 0 (It was NA because the denominator is 0)</p></li>
</ul>
<p>Our subset data <strong>o_MA</strong> is then saved in the dataset file.</p>
</div>
<div id="examining-o_ma" class="section level1">
<h1>Examining o_MA</h1>
<pre class="r"><code>library(tidyverse)
o_MA &lt;- read_csv(here::here(&quot;dataset/o_MA.csv&quot;))</code></pre>
<div id="plot-1" class="section level2">
<h2>Plot 1</h2>
<pre class="r"><code>o_MA %&gt;% 
  group_by(Dest_state) %&gt;%
  mutate(sum_n = sum(n)) %&gt;%
  filter(Dest_state != &quot;Massachusetts&quot;) %&gt;%
  ungroup() %&gt;%
  arrange(desc(sum_n)) %&gt;%
  filter(sum_n &gt; 1650) %&gt;% 
  ggplot() +
  geom_col(aes(x=reorder(Dest_state,sum_n),y=n,fill=race))+
  theme(axis.text.x = element_text(angle=45,vjust=1,hjust=1)) +
  labs(x = &quot;Destination State&quot;, y = &quot;Total Commute Population&quot;, color=&quot;race&quot;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>We found out that the most popular state that people are moving to is New York, which is also the top states that has large populations. Moreover, we found out that within the moving population, the largest race group is white people. Except Georgia, the second largest race group is Hispanic.</p>
</div>
<div id="plot-2" class="section level2">
<h2>Plot 2</h2>
<pre class="r"><code>o_MA %&gt;%
  filter(Dest_state ==&quot;Massachusetts&quot;)%&gt;% 
  filter(Original_CZ==&quot;Boston&quot;) %&gt;%
  ggplot()+
  geom_bar(aes(x = Dest_CZ, fill=Dest_CZ))+
  coord_polar(theta=&#39;x&#39;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>The number of people who resided in Springfield and the number of people who resided in Boston are relatively similar, and they their populations are the highest among all five community zone.
The number of people in Pittsburgh is the second largest among all five community zone; the number of people in Oak Bluffs is the third largest among all five community zone; the number of people in Nantucket is the least largest in all community zone.</p>
</div>
<div id="plot-3" class="section level2">
<h2>Plot 3</h2>
<pre class="r"><code>o_MA %&gt;%
  filter(Dest_state!=&quot;Massachusetts&quot;) %&gt;%
  ggplot() +
  geom_col(aes(x=1,y=n,fill=race),position = &quot;fill&quot;) +
  facet_wrap(~Dest_state) +  
  coord_polar(theta = &quot;y&quot;) +
  labs(x=&quot;&quot;,y=&quot;&quot;,fill=&quot;Race&quot;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-4-1.png" width="960" /></p>
<p>Among 50 different destination states, white group people are the most likely to migrate. Moreover, white group people make up at least 75 percent of the total migration in each state, except Alabama, Florida, and Georgia. Asian and colored groups have relatively similar migration patterns in most states.</p>
</div>
<div id="plot-4" class="section level2">
<h2>Plot 4</h2>
<pre class="r"><code>o_MA %&gt;%
  filter(Dest_state!=&quot;Massachusetts&quot;) %&gt;%
  ggplot() +
  geom_col(aes(x=1,y=n,fill=income),position = &quot;fill&quot;) +
  facet_wrap(~Dest_state) +  
  coord_polar(theta = &quot;y&quot;)+
  labs(x=&quot;&quot;,y=&quot;&quot;,fill=&quot;Income (Q1=poorest,Q5=richest)&quot;)</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-5-1.png" width="1440" /></p>
<p>Among 50 statesâ€™ migration population, the Q1 income group ( poorest parental income quintile) has the lowest migrant population in most cases. Surprisingly, the migration pattern in 10 of the states is very similar: people from 5 different income groups contribute a relatively equal number of the migrating population.</p>
</div>
</div>
